稼働中のプロセスの制御
# 1:プロセスの確認
プロセスとは実行状態にあるプログラムのことで、実行中のプログラムを管理する基本単位。  
Linuxではプログラムを実行するたびに新しいプロセスが生成され、識別用のIDが付与される。これをプロセスID(PID)と呼ぶ。  

実行中のプロセスを確認するにはpsコマンドを使う。

~~~
macaroni@PC130:~/projects/lpic_lv1/ch.5$ ps
    PID TTY          TIME CMD
  36000 pts/5    00:00:00 bash
  72914 pts/5    00:00:00 ps
~~~

TTYはプロセスが実行されている画面・端末を表す。   
Linuxがインストールされたハードウェアに直接接続されているディスプレイはtty、ネットワーク越しに接続している場合はpts。

TIMEはプロセスが実際にCPUを使用した時間を表す。

CMDは、実行されているコマンド・プロセスの名称。

# 2:システムの稼働状況の確認
- uptime  
Linuxの起動時刻、トータルの稼働時間、ログイン中のユーザー数、平均不可が表示される。
~~~
macaroni@PC130:~/projects/lpic_lv1/ch.5$ uptime
 15:01:12 up 13:20,  1 user,  load average: 0.04, 0.04, 0.00
~~~
- free  
メモリの使用状況を表示。
~~~
macaroni@PC130:~/projects/lpic_lv1/ch.5$ free
               total        used        free      shared  buff/cache   available
Mem:         7971040     1159768     6778640        4704      204508     6811272
Swap:        2097152           0     2097152
~~~
- uname   
カーネルのバージョン等を確認。
~~~
macaroni@PC130:~/projects/lpic_lv1/ch.5$ uname -a
Linux PC130 6.6.87.2-microsoft-standard-WSL2 #1 SMP PREEMPT_DYNAMIC Thu Jun  5 18:30:46 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

macaroni@PC130:~/projects/lpic_lv1/ch.5$ uname -r
6.6.87.2-microsoft-standard-WSL2
~~~
- watch   
指定したコマンドを一定時間ごとに繰り返し実行できる。

~~~
# 2秒おきにuptimeコマンドを実行
macaroni@PC130:~/projects/lpic_lv1/ch.5$ watch -n 2 -d uptime
~~~

# 3:プロセスの終了
プロセスを終了する場合、killコマンドでシグナルと呼ばれる信号をプロセスへ送る。

- tmuxコマンド
1つの画面を分割できる。   
ペイン…実行環境
ウィンドウ…操作画面

# 4:プロセスの優先順位
~~~
macaroni@MYCOMPUTER:~/projects/lpic_lv1$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000     676     652  0  80   0 -  1552 do_wai pts/6    00:00:00 bash
0 R  1000    6925     676  0  80   0 -  2078 -      pts/6    00:00:00 ps
~~~
PRIが優先度。LinuxではPRIを直接変更できない仕様になっているため、PRIに影響を与える値をしてnice値が用意されている(NI)  
NI値をPRIに足す。PRIの数値が低いプロセスほど優先される。nice値をマイナスに設定できるのはrootのみ。

# 5:ジョブの制御
シェル上で実行される、コマンドやプログラムなどの処理のまとまりをジョブという。

フォアグラウンドジョブ…実行中に端末を専有するジョブ
通常通り、コマンドを入力しエンター。

バックグラウンドジョブ…実行中に端末を専有しないジョブ
コマンドの末尾に＆記号を追加しエンター。
~~~
macaroni@MYCOMPUTER:~/projects/lpic_lv1$ sleep 10 &
[1] 11979
~~~

[1]…ジョブ番号
11979…PID

ジョブはまだ実行中だが、プロンプトが表示されているので別のコマンドを実行できる。